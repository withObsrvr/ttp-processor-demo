# Contract Event Index Transformer Configuration

service:
  name: "contract-event-index-transformer"
  version: "1.0.0"

# Source: Bronze Hot (PostgreSQL)
bronze_hot:
  host: "${PG_BRONZE_HOT_HOST}"
  port: 25060
  database: "${PG_BRONZE_HOT_DB}"
  user: "${PG_BRONZE_HOT_USER}"
  password: "${PG_BRONZE_HOT_PASSWORD}"
  sslmode: "require"

# DuckLake Catalog (PostgreSQL)
catalog:
  host: "${PG_CATALOG_HOST}"
  port: 25060
  database: "${PG_CATALOG_DB}"
  user: "${PG_CATALOG_USER}"
  password: "${PG_CATALOG_PASSWORD}"
  sslmode: "require"

# B2/S3 Storage Configuration
s3:
  access_key_id: "${B2_KEY_ID}"
  secret_access_key: "${B2_KEY_SECRET}"
  endpoint: "s3.us-west-004.backblazeb2.com"
  region: "us-west-004"
  bucket: "${B2_BUCKET}"

# Indexing Configuration
indexing:
  poll_interval: "30s"              # Poll Bronze Hot every 30 seconds
  batch_size: 1000                  # Process 1000 ledgers per batch
  checkpoint_file: "checkpoint.json" # File-based checkpoint

# Health Endpoint
health:
  port: 8096
